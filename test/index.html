<html>
<head>
<title>History of Literature</title>
<link href="https://fonts.googleapis.com/css?family=Alegreya|Alegreya+Sans" rel="stylesheet">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
<style>
    body { 
        font-family: 'Alegreya Sans', Calibri, sans-serif; 
    }
    h1{
        text-align:center;
    }
    svg { 
        margin: auto;
        display: block;
    }
    .filter{
        float:left;
    }
    circle:hover{
        stroke:black;
        stroke-width: 2px;
        opacity: 0.5;
    }
    .line {
		stroke: blue;
		fill:none;
		stroke-width: 3;
	}

</style>
    
</head>
<body>
<svg height="900" width="40000">

</svg>

<script>

var svg = d3.select("svg");
var div = d3.select("body").append("div")
.attr("class", "tooltip")
.style("opacity", 0);


function parseLine (line) {
	return { 
        Name: line["Name"],
		Fl: Number(line["Fl"]),
		Inventory: line["Inventory"],
		Index: Number(line["Index"]),
		BirthCountry: line["BirthCountry"],
        WorkCountry: line["WorkCountry"],
		Ethnicity: line["Ethnicity"],
        Woman: Number(line["Woman"])
	};
}

d3.tsv("HA.tsv", parseLine, function (error, data) {
	
    
	var xScale = d3.scaleLinear()
        .domain([-701, 1950])
        .range([50, 39950]);
    var yScale = d3.scaleLinear()
        .domain([0, 100])
        .range([850, 50]);
    
    
	var circles = svg.selectAll(".dot")
        .data(data)
        .enter().append("circle")
        .attr("class", "circle")
		.attr("cx", function(d) {return xScale(d.Fl); })
		.attr("cy", function(d) {return yScale(d.Index); })
		.attr("r", 10)
        .on("mouseover", function(d){
            console.log(d.Inventory)
            div.html(d.Name);
        })
		.style("opacity", function(d){
            if(d.Inventory == "Lit.West"){
                return '0.3';
            }
            else if(d.Inventory == "Phil.West"){
                return '0.3';
            }
            else if(d.Inventory == "Art.West"){
                return '0.3';
            }
            else{
                return "0";
            }
        })
        .style("fill", function(d){
            if(d.Inventory == "Lit.West"){
                return 'Blue';
            }
            else if(d.Inventory == "Phil.West"){
                return 'Red';
            }
            else if(d.Inventory == "Art.West"){
                return 'Green';
            }
        });
    
    for(i = 1; i < 11; i++){
        svg.append("line")
        .attr("x1", xScale(-701))
        .attr("y1", yScale(i*10))
        .attr("x2", xScale(1950))
        .attr("y2", yScale(i*10))
        .style("opacity", 0.4)
        .style("stroke", "gray");
    }
    var bottomAxis = d3.axisBottom(xScale).ticks(210).tickFormat(d3.format("d"));
    var leftAxis = d3.axisLeft(yScale).ticks(10);
    
    svg.append("g").call(bottomAxis)
        .attr("transform", "translate(0,850)");
    
    svg.append("g").call(leftAxis)
        .attr("transform", "translate(50,0)");
});



</script>

    
</body>
</html>
